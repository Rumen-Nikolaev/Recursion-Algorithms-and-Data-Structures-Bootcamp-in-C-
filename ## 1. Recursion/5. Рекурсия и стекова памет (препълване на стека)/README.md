# Рекурсия и стекова памет (препълване на стека)

## Преглед
Този документ изследва основните концепции на рекурсията и нейната връзка с паметта на стека, включително предизвикателствата на препълването на стека. Предоставя конкретен пример за сумиране на първите „n“ цели числа и изчисляване на факториели с помощта на рекурсия и обсъжда разликите между рекурсия на главата и рекурсия на опашка.

## Ключови понятия

### 1. Рекурсия
Рекурсията е техника за програмиране, при която функция се извиква сама за решаване на проблем. Всяко рекурсивно повикване се съхранява в паметта на стека, създавайки нова рамка на стека.

### 2. Стекова памет
- Стековата памет се използва за съхраняване на информация за активните подпрограми (функции).
- Всяко извикване на функция създава стекова рамка, която съдържа параметрите на функцията, локалните променливи и адреса за връщане.
- Когато дадена функция се върне, нейната стекова рамка се премахва от стека.

### 3. Основен случай
Всяка рекурсивна функция трябва да има базов случай, за да се предотврати безкрайна рекурсия. Базовият случай предоставя условие, при което функцията спира да се самоизвиква.

### 4. Препълване на стека
- Препълване на стека възниква, когато има твърде много рекурсивни извиквания, надвишаващи капацитета на паметта на стека.
- Това обикновено се случва, когато базовият случай не е дефиниран или когато дълбочината на рекурсия е твърде голяма.

## Примери

### Сумиране на първите `n` цели числа
За да изчислите сумата на първите n цели числа рекурсивно:
- **Основен случай**: Ако `n` е 0, върнете 0.
- **Рекурсивен случай**: Връща `n + сума(n - 1)`.

**Визуализация на стекова рамка**:
1. Извикване на `sum(4)`: Избутва `sum(4)` в стека.
2. Извикване на `sum(3)`: Избутва `sum(3)` в стека.
3. Извикване на `sum(2)`: Избутва `sum(2)` в стека.
4. Извикване на `sum(1)`: Избутва `sum(1)` в стека.
5. Извикване на `sum(0)`: Достигнат е основен случай, връща 0.

След това стекът се развива, сумирайки стойностите, докато се връща от всяко повикване.

### Факторно изчисление
За да изчислите факториела на число `n` рекурсивно:
- **Основен случай**: Ако `n` е 0, върнете 1.
- **Рекурсивен случай**: Връща `n * факториел(n - 1)`.

**Визуализация на стекова рамка**:
1. Извикване на `factorial(4)`: Избутва `factorial(4)` в стека.
2. Извикване на `factorial(3)`: Избутва `factorial(3)` в стека.
3. Извикване на `factorial(2)`: Избутва `factorial(2)` в стека.
4. Извикване на `factorial(1)`: Избутва `factorial(1)` в стека.
5. Извикайте `factorial(0)`: Основен случай
